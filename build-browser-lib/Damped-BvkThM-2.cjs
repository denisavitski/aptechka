"use strict";var v=Object.defineProperty,z=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var D=(r,i,t)=>i in r?v(r,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[i]=t,I=(r,i)=>{for(var t in i||(i={}))E.call(i,t)&&D(r,t,i[t]);if(N)for(var t of N(i))G.call(i,t)&&D(r,t,i[t]);return r},M=(r,i)=>z(r,B(i));var P=(r,i,t)=>{if(!i.has(r))throw TypeError("Cannot "+t)};var e=(r,i,t)=>(P(r,i,"read from private field"),t?t.call(r):i.get(r)),n=(r,i,t)=>{if(i.has(r))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(r):i.set(r,t)},h=(r,i,t,s)=>(P(r,i,"write to private field"),s?s.call(r,t):i.set(r,t),t);var k=(r,i,t)=>(P(r,i,"access private method"),t);const R=require("./Store-D0_rDIsE.cjs"),w=require("./math-GDWEqu7y.cjs"),C=require("./number-yVpzMdbQ.cjs"),L=require("./polyfills-CrcS4RcO.cjs"),_=require("./ticker/index.cjs");var d,f,x,g,m,b,l,a,c,u,F,j,q,p,S,A;class H extends R.Store{constructor(t,s){super(t||0);n(this,F);n(this,q);n(this,d,void 0);n(this,f,void 0);n(this,x,void 0);n(this,g,void 0);n(this,m,new R.Store(!1));n(this,b,0);n(this,l,0);n(this,a,0);n(this,c,0);n(this,u,void 0);n(this,S,t=>{const s=this.current;C.preciseNumber(this.current,4)===C.preciseNumber(this.target,4)&&(this.stopAnimation(),this.current=this.target),this.current=w.damp(this.current,this.target,e(this,g),t.elapsed);const y=Math.abs(s-this.target);h(this,l,y/t.elapsed)});n(this,A,()=>{this.set(e(this,u),!0)});h(this,g,(s==null?void 0:s.damping)||.01),h(this,f,s==null?void 0:s.order),h(this,d,s==null?void 0:s.maxFPS),h(this,x,s==null?void 0:s.culling),h(this,a,L.nullishCoalescing(s==null?void 0:s.min,-1/0)),h(this,c,L.nullishCoalescing(s==null?void 0:s.max,1/0)),h(this,u,this.current)}get target(){return e(this,u)}get isRunning(){return e(this,m)}get direction(){return e(this,b)}get maxFPS(){return e(this,d)}get speed(){return e(this,l)}get min(){return e(this,a)}set min(t){h(this,a,t),e(this,A).call(this)}get max(){return e(this,c)}set max(t){h(this,c,t),e(this,A).call(this)}get length(){return e(this,c)-e(this,a)}get progress(){return this.length?C.preciseNumber((this.current-e(this,a))/this.length,6):0}get damping(){return e(this,g)}set damping(t){h(this,g,t)}get entry(){return M(I({},super.entry),{min:e(this,a),max:e(this,c),length:this.length,direction:this.direction,progress:this.progress,speed:this.speed})}set(t,s=!1){const y=e(this,u);h(this,u,w.clamp(t,e(this,a),e(this,c))),s&&(this.current=e(this,u)),e(this,u)!==y&&(h(this,l,0),h(this,b,Math.sign(t-e(this,u))||1),k(this,q,p).call(this))}shift(t,s=!1){this.set(e(this,u)+t,s)}close(){super.close(),this.stopAnimation()}reset(){this.set(this.initial,!0)}stopAnimation(){e(this,m).current&&(h(this,l,0),e(this,m).current=!1,_.ticker.unsubscribe(e(this,S)))}}d=new WeakMap,f=new WeakMap,x=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,l=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,F=new WeakSet,j=function(){e(this,m).current||(e(this,m).current=!0,_.ticker.subscribe(e(this,S),{maxFPS:e(this,d),order:e(this,f),culling:e(this,x)}))},q=new WeakSet,p=function(){e(this,g)?this.current!==this.target&&k(this,F,j).call(this):(this.current=this.target,this.stopAnimation())},S=new WeakMap,A=new WeakMap;exports.Damped=H;
