"use strict";var he=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var v=(t,e,r)=>(he(t,e,"read from private field"),r?r.call(t):e.get(t)),z=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$=(t,e,r,n)=>(he(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const we=require("../browser-CpzFX2xg.cjs"),p=require("../custom-element/index.cjs"),d=require("../Store-D0_rDIsE.cjs"),h=require("../tags-DX-eNxbA.cjs"),m=require("../createStylesheet-C0OnN0Br.cjs"),me=require("../file-EevnUtRj.cjs"),ke=require("../function-MthRj-GJ.cjs"),_e=require("../Viewport-COsaberc.cjs"),be=require("../accordion/index.cjs"),Se=require("../index--wI4MTuv.cjs"),ye=require("../events-Crwi8fz6.cjs"),s=require("../theme/index.cjs"),Te=require("../math-GDWEqu7y.cjs"),de='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M20.536 3.464C19.07 2 16.714 2 12 2C7.286 2 4.929 2 3.464 3.464C2 4.93 2 7.286 2 12c0 4.714 0 7.071 1.464 8.535C4.93 22 7.286 22 12 22c4.714 0 7.071 0 8.535-1.465C22 19.072 22 16.714 22 12s0-7.071-1.465-8.536M16.75 12a.75.75 0 0 1-.75.75H9.81l1.72 1.72a.75.75 0 1 1-1.06 1.06l-3-3a.75.75 0 0 1 0-1.06l3-3a.75.75 0 1 1 1.06 1.06l-1.72 1.72H16a.75.75 0 0 1 .75.75" clip-rule="evenodd"/></svg>',pe='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z"/><path  d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z"/></svg>',Ce='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Zm10-5.75a.75.75 0 0 1 .75.75v5.19l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72V7a.75.75 0 0 1 .75-.75Zm-4 10a.75.75 0 0 0 0 1.5h8a.75.75 0 0 0 0-1.5H8Z" clip-rule="evenodd"/></svg>',xe='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Zm10 5.75a.75.75 0 0 0 .75-.75v-5.19l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72V17c0 .414.336.75.75.75Zm-4-10a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 0 1.5H8Z" clip-rule="evenodd"/></svg>';var x,w;class $e{constructor(){z(this,x,"");z(this,w,[]);$(this,x,d.storeRegistry.projectName+"-studio")}openPanel(e){v(this,w).includes(e)||v(this,w).push(e)}closePanel(e){$(this,w,v(this,w).filter(r=>r!==e))}isPanelOpened(e){return v(this,w).includes(e)}save(){const e={openedPanels:v(this,w)};localStorage.setItem(v(this,x),JSON.stringify(e)),d.storeRegistry.saveState()}load(){d.storeRegistry.loadState();const e=localStorage.getItem(v(this,x));if(e)try{const r=JSON.parse(e);r.openedPanels&&$(this,w,r.openedPanels)}catch(r){console.error(r)}}}x=new WeakMap,w=new WeakMap;const C=new $e;var b;class F extends p.CustomElement{constructor(...r){super();z(this,b,void 0);$(this,b,r)}addStore(r){v(this,b).push(r)}get firstStore(){return v(this,b)[0]}get stores(){return v(this,b)}updateStores(r){v(this,b).forEach(n=>{n.current=r})}}b=new WeakMap;var Pe=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,Ee=(t,e,r,n)=>{for(var a=n>1?void 0:n?Oe(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&Pe(e,r,a),a};const Me=m.createStylesheet({":host":{width:"100%",display:"inline-flex",height:"max-content"},input:{padding:"0",margin:"0",width:`calc(${s.aptechkaTheme.heightInput.var} * 0.5)`,height:`calc(${s.aptechkaTheme.heightInput.var} * 0.5)`,borderRadius:s.aptechkaTheme.borderRadius.var,overflow:"hidden",accentColor:s.aptechkaTheme.colorLight.var}});let te=class extends F{constructor(...t){super(...t),this.openShadow(Me),h.element(this,{children:[h.input({type:"checkbox",onChange:e=>{this.updateStores(e.currentTarget.checked)},ref:e=>{this.firstStore.subscribe(r=>{e.checked=r.current})}})]})}};te=Ee([p.define("e-tweaker-boolean-manager")],te);var Re=Object.defineProperty,De=Object.getOwnPropertyDescriptor,We=(t,e,r,n)=>{for(var a=n>1?void 0:n?De(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&Re(e,r,a),a};const Le=m.createStylesheet({":host":{width:"100%",display:"inline-flex",height:"max-content"},input:{width:"100%",height:s.aptechkaTheme.heightInput.var,padding:"0",background:"none",borderRadius:s.aptechkaTheme.borderRadius.var,border:"none",blockSize:"unset"},"input::-webkit-color-swatch, input::-webkit-color-swatch-wrapper":{boxSizing:"border-box",padding:"0px",border:"none",borderRadius:s.aptechkaTheme.borderRadius.var,height:`calc(${s.aptechkaTheme.heightInput.var} * 0.93)`}});let re=class extends F{constructor(...t){super(...t),this.openShadow(Le),h.element(this,{children:[h.input({type:"color",value:this.firstStore,onInput:e=>{this.updateStores(e.currentTarget.value)}})]})}};re=We([p.define("e-tweaker-color-manager")],re);var Ie=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,Ae=(t,e,r,n)=>{for(var a=n>1?void 0:n?Fe(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&Ie(e,r,a),a};const ze=m.createStylesheet({a:{color:"inherit"}});let ae=class extends F{constructor(...t){var e,r;super(...t),this.openShadow(ze),h.element(this,{children:[h.a({href:this.firstStore,target:(r=(e=this.firstStore.passport)==null?void 0:e.manager)!=null&&r.sameWindow?"_self":"_blank",children:this.firstStore})]})}};ae=Ae([p.define("e-tweaker-link-manager")],ae);var Ne=Object.defineProperty,qe=Object.getOwnPropertyDescriptor,He=(t,e,r,n)=>{for(var a=n>1?void 0:n?qe(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&Ne(e,r,a),a},Ze=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},X=(t,e,r)=>(Ze(t,e,"read from private field"),r?r.call(t):e.get(t)),Ge=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},P;const Ke=m.createStylesheet({":host":{width:"100%",display:"flex",alignItems:"center"},input:{boxSizing:"border-box",outline:"none",fontVariantNumeric:"tabular-nums",fontFamily:"inherit",color:"inherit",border:"none",fontSize:s.aptechkaTheme.fontSizeSmall.var},".text-input":{height:s.aptechkaTheme.heightInput.var,width:"100%",margin:"0",padding:`0 ${s.aptechkaTheme.gapSmall.var}`,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:s.aptechkaTheme.borderRadius.var}});let B=class extends F{constructor(...t){super(...t),Ge(this,P,new d.Store([])),this.openShadow(Ke),h.element(this,{children:[h.input({class:"text-input",type:"string",value:this.firstStore,onChange:e=>{this.updateStores(e.currentTarget.value)}}),X(this,P)]})}appendContent(t){X(this,P).current=[...X(this,P).current,t]}};P=new WeakMap;B=He([p.define("e-tweaker-string-manager")],B);var Ve=Object.defineProperty,Je=Object.getOwnPropertyDescriptor,Ye=(t,e,r,n)=>{for(var a=n>1?void 0:n?Je(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&Ve(e,r,a),a},ue=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},_=(t,e,r)=>(ue(t,e,"read from private field"),r?r.call(t):e.get(t)),N=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},j=(t,e,r,n)=>(ue(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),O,E,M,q;let Q=class extends B{constructor(...t){var e,r,n,a,o,i;super(...t),N(this,O,void 0),N(this,E,void 0),N(this,M,void 0),N(this,q,k=>{const A=typeof k=="string"?parseFloat(k)||this.min:k,fe=Te.clamp(A,_(this,E),_(this,M));return this.toFixed(fe)}),j(this,E,((r=(e=this.firstStore.passport)==null?void 0:e.manager)==null?void 0:r.min)||0),j(this,M,((a=(n=this.firstStore.passport)==null?void 0:n.manager)==null?void 0:a.max)||1),j(this,O,((i=(o=this.firstStore.passport)==null?void 0:o.manager)==null?void 0:i.step)||.01)}get min(){return _(this,E)}get max(){return _(this,M)}get step(){return _(this,O)}toFixed(t){var r;const e=((r=_(this,O).toString().split(".")[1])==null?void 0:r.length)||0;return e?+t.toFixed(e):Math.ceil(t)}connectedCallback(){this.firstStore.addMiddleware(_(this,q))}disconnectedCallback(){this.firstStore.removeMiddleware(_(this,q))}};O=new WeakMap;E=new WeakMap;M=new WeakMap;q=new WeakMap;Q=Ye([p.define("e-tweaker-number-manager")],Q);var Be=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,Ue=(t,e,r,n)=>{for(var a=n>1?void 0:n?Qe(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&Be(e,r,a),a};const Xe=m.createStylesheet({":host":{width:"100%"},".text-input":{width:"60px",marginRight:s.aptechkaTheme.gapLarge.var,textAlign:"center"},".range-input":{boxSizing:"border-box","-webkit-appearance":"none",height:"8px",width:"100%",margin:"0",padding:"0",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:s.aptechkaTheme.borderRadius.var},".range-input::-webkit-slider-thumb":{"-webkit-appearance":"none",height:`calc(${s.aptechkaTheme.heightInput.var} * 0.7)`,width:s.aptechkaTheme.borderRadius.var,borderRadius:s.aptechkaTheme.borderRadius.var,backgroundColor:s.aptechkaTheme.colorLight.var,transitionProperty:"background-color",transitionDuration:s.aptechkaTheme.durationShort.var},".range-input:focus::-webkit-slider-thumb":{backgroundColor:s.aptechkaTheme.colorActive.var},".range-input::-webkit-slider-runnable-track":{"-webkit-appearance":"none","box-shadow":"none",border:"none",background:"transparent"}});let ne=class extends Q{constructor(...t){super(...t),this.addStylesheet(Xe),this.appendContent(h.input({class:"range-input",type:"range",min:this.min,max:this.max,step:this.step,value:this.firstStore,onInput:e=>{this.updateStores(parseFloat(e.currentTarget.value))}}))}};ne=Ue([p.define("e-tweaker-range-manager")],ne);var je=Object.defineProperty,et=Object.getOwnPropertyDescriptor,tt=(t,e,r,n)=>{for(var a=n>1?void 0:n?et(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&je(e,r,a),a};const rt=m.createStylesheet({"e-select":{width:"100%","--arrow-color":s.aptechkaTheme.colorLight.var},"e-select-head":{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},"e-select-option":{transitionDuration:s.aptechkaTheme.durationShort.var,transitionProperty:"color"},"e-select-option:hover":{color:s.aptechkaTheme.colorActive.var},svg:{width:"16px",height:"16px",fill:s.aptechkaTheme.colorLight.var,transitionProperty:"transform",transitionDuration:s.aptechkaTheme.durationShort.var},".opened svg":{transform:"scaleY(-1)"}});let ie=class extends F{constructor(...t){var r,n;super(...t),this.openShadow(rt);const e=((n=(r=this.firstStore.passport)==null?void 0:r.manager)==null?void 0:n.variants)||[];h.element(this,{children:h.element("e-select",{value:this.firstStore,onChange:a=>{this.updateStores(a.currentTarget.value)},lightChildren:[h.element("e-select-head",{lightChildren:[h.span({"data-value-holder":""})]}),...e.map((a,o)=>h.element("e-select-option",{lightChildren:a,default:o===0?!0:null}))]})})}};ie=tt([p.define("e-tweaker-select-manager")],ie);const at={boolean:te,color:re,link:ae,number:Q,range:ne,select:ie,string:B};var nt=Object.defineProperty,it=Object.getOwnPropertyDescriptor,st=(t,e,r,n)=>{for(var a=n>1?void 0:n?it(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&nt(e,r,a),a},ve=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},l=(t,e,r)=>(ve(t,e,"read from private field"),r?r.call(t):e.get(t)),S=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},y=(t,e,r,n)=>(ve(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),g,R,D,W,L,H,Z;const ot=m.createStylesheet({":host":{display:"grid",gridAutoFlow:"column",gridTemplateColumns:"0.4fr 1fr",alignItems:"center",color:s.aptechkaTheme.colorLight.var,gap:s.aptechkaTheme.gapMedium.var},":host(.disabled)":{pointerEvents:"none",opacity:.5},".head":{fontSize:s.aptechkaTheme.fontSizeMedium.var,display:"flex",alignItems:"center",gap:s.aptechkaTheme.gapExtraSmall.var},".head-buttons":{display:"flex"},".head-button":{width:"14px",height:"14px",padding:"0",margin:"0",border:"none",background:"none",fill:s.aptechkaTheme.colorLight.var,transitionDuration:s.aptechkaTheme.durationShort.var,transitionProperty:"fill, opacity",opacity:"0"},":host(:hover) .head-button":{opacity:"1"},".head-button:hover":{fill:s.aptechkaTheme.colorActive.var},".head-button svg":{width:"100%",height:"100%"}});let U=class extends p.CustomElement{constructor(t){var r,n,a,o;super(),S(this,g,[]),S(this,R,void 0),S(this,D,void 0),S(this,W,!1),S(this,L,void 0),S(this,H,()=>{d.activeStores.current.find(i=>l(this,g).includes(i))||this.remove()}),S(this,Z,i=>{l(this,W)&&((i.metaKey||i.ctrlKey)&&i.code==="KeyC"?navigator.clipboard.writeText(l(this,g)[0].current):(i.metaKey||i.ctrlKey)&&i.code==="KeyR"&&(l(this,g).forEach(k=>{k.reset()}),i.preventDefault()))}),y(this,g,[t.store]),y(this,R,t.store.passport.name),y(this,D,l(this,R).split(".").slice(-1).toString());const e=((n=(r=t.store.passport)==null?void 0:r.manager)==null?void 0:n.type)||"string";y(this,L,new at[e](l(this,g)[0])),this.openShadow(ot),h.element(this,{class:{disabled:((o=(a=t.store.passport)==null?void 0:a.manager)==null?void 0:o.disabled)||!1},onPointerleave:()=>{y(this,W,!1)},onPointerenter:()=>{y(this,W,!0)},children:[h.div({class:"head",children:[h.div({class:"name",children:l(this,D)+":"}),h.div({class:"head-buttons",children:[h.button({class:"head-button",children:pe,onClick:()=>{navigator.clipboard.writeText(l(this,g)[0].current)}}),h.button({class:"head-button",children:de,onClick:()=>{l(this,g).forEach(i=>{i.reset()})}})]})]}),l(this,L)]})}get key(){return l(this,R)}get name(){return l(this,D)}get stores(){return l(this,g)}addStore(t){l(this,L).addStore(t)}connectedCallback(){d.activeStores.subscribe(l(this,H)),addEventListener("keydown",l(this,Z)),ye.dispatchSizeChangeEvent(this)}disconnectedCallback(){d.activeStores.unsubscribe(l(this,H)),removeEventListener("keydown",l(this,Z))}};g=new WeakMap;R=new WeakMap;D=new WeakMap;W=new WeakMap;L=new WeakMap;H=new WeakMap;Z=new WeakMap;U=st([p.define("e-tweaker-field")],U);var ht=Object.defineProperty,ct=Object.getOwnPropertyDescriptor,lt=(t,e,r,n)=>{for(var a=n>1?void 0:n?ct(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&ht(e,r,a),a},ge=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},c=(t,e,r)=>(ge(t,e,"read from private field"),r?r.call(t):e.get(t)),T=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ee=(t,e,r,n)=>(ge(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),f,G,u,K,V,se;const dt=m.createStylesheet({".wrapper":{boxSizing:"border-box",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:s.aptechkaTheme.borderRadius.var},".head":{boxSizing:"border-box",width:"100%",height:s.aptechkaTheme.tweakerFolderHeight.var,paddingLeft:s.aptechkaTheme.gapMedium.var,paddingRight:s.aptechkaTheme.gapMedium.var,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:s.aptechkaTheme.colorDarkAux.var,borderRadius:s.aptechkaTheme.borderRadius.var},".name":{fontSize:s.aptechkaTheme.fontSizeLarge.var,color:s.aptechkaTheme.colorLight.var},".body":{transitionProperty:"height",transitionDuration:s.aptechkaTheme.durationShort.var,overflow:"hidden",height:"0px"},".body-content":{boxSizing:"border-box",padding:s.aptechkaTheme.gapLarge.var,display:"grid",gap:s.aptechkaTheme.gapMedium.var},".arrow":{width:"20px",height:"20px",fill:s.aptechkaTheme.colorLight.var,transition:`transform ${s.aptechkaTheme.durationShort.var}`},".opened .arrow":{transform:"scaleY(-1)"}});let I=class extends be.AccordionElement{constructor(t){super(),T(this,f,void 0),T(this,G,new d.Store(null)),T(this,u,new d.Store([])),T(this,K,void 0),T(this,V,null),T(this,se,e=>{let r=[],n=[];e.forEach(a=>{r=[...r,...a.removedNodes],n=[...n,...a.addedNodes]}),c(this,u).current=c(this,u).current.filter(a=>!r.includes(a)),c(this,f)&&!c(this,u).current.length&&!n.length&&this.remove()}),this.openShadow(dt),ee(this,f,t.key),ee(this,K,new MutationObserver(c(this,se))),h.element(this,{onAccordionItemToggle:e=>{e.stopPropagation(),e.detail.opened?C.openPanel(c(this,f)):C.closePanel(c(this,f))},children:[h.div({class:"wrapper",children:[h.div({class:"head",children:[c(this,f)?h.div({class:"name",children:[c(this,f).split(".").slice(-1).toString()]}):null,c(this,G),h.element(Se.arrowIcon,{class:"arrow"})]}),h.div({class:"body",children:h.div({class:"body-content",children:c(this,u),ref:e=>ee(this,V,e.firstElementChild)})})]})]}),t!=null&&t.storeBox&&this.handleStore(t.storeBox)}get key(){return c(this,f)}get head(){return c(this,G)}get content(){return c(this,u)}connectedCallback(){super.connectedCallback(),setTimeout(()=>{C.isPanelOpened(c(this,f))&&this.openAll({skipTransition:!0})},50),c(this,K).observe(c(this,V),{childList:!0})}handleStore(t){if(t.remainingFolders.length){const r=t.store.passport.name.split("."),n=r.slice(0,r.length-t.remainingFolders.length).join("."),a=c(this,u).current.find(o=>o.key===n);a instanceof I?a.handleStore({store:t.store,remainingFolders:t.remainingFolders.slice(1)}):c(this,u).current=[...c(this,u).current,new I({key:n,storeBox:{store:t.store,remainingFolders:t.remainingFolders.slice(1)}})]}else{const e=c(this,u).current.find(r=>r.key===t.store.passport.name);e instanceof U?e.addStore(t.store):c(this,u).current=[...c(this,u).current,new U({store:t.store})]}}};f=new WeakMap;G=new WeakMap;u=new WeakMap;K=new WeakMap;V=new WeakMap;se=new WeakMap;I=lt([p.define("e-tweaker-folder")],I);var pt=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,vt=(t,e,r,n)=>{for(var a=n>1?void 0:n?ut(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&pt(e,r,a),a},gt=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ce=(t,e,r)=>(gt(t,e,"read from private field"),r?r.call(t):e.get(t)),ft=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},J;const wt=m.createStylesheet({":host":{position:"absolute",top:s.aptechkaTheme.tweakerOffset.var,right:s.aptechkaTheme.tweakerOffset.var,width:s.aptechkaTheme.tweakerWidth.var,backgroundColor:s.aptechkaTheme.colorDark.var,borderRadius:s.aptechkaTheme.borderRadius.var,transition:"opacity 0.2s",zIndex:"100",opacity:"0.1"},":host(:hover)":{opacity:"1 !important"},".tweaker-buttons":{display:"flex",alignItems:"center",gap:s.aptechkaTheme.gapExtraSmall.var},".tweaker-button":{width:"18px",height:"18px",padding:"0",margin:"0",background:"none",border:"none",fill:s.aptechkaTheme.colorLight.var,transitionProperty:"fill",transitionDuration:s.aptechkaTheme.durationShort.var},".tweaker-button:hover":{fill:s.aptechkaTheme.colorActive.var},".tweaker-button svg":{width:"100%",height:"100%"},":host .body-content":{maxHeight:`calc(
      100dvh - 
      (
        ${s.aptechkaTheme.tweakerOffset.var} * 2 + 
        ${s.aptechkaTheme.tweakerFolderHeight.var}
      )
    )`,overflow:"hidden auto","-ms-overflow-style":"none","scrollbar-width":"none"},":host .body-content::-webkit-scrollbar":{display:"none"},[`@media ${_e.ViewportMediaRules["<=mobile"]}`]:{":host":{position:"absolute",top:"0",right:"0",width:"100%",borderTopLeftRadius:"0",borderTopRightRadius:"0"},":host .body-content":{maxHeight:`calc(
        100dvh - 
        ${s.aptechkaTheme.tweakerFolderHeight.var}
      )`}}});let oe=class extends I{constructor(){super({key:""}),ft(this,J,ke.debounce(()=>{d.activeStores.current.forEach(t=>{const e=t.passport.name.split(".");this.handleStore({store:t,remainingFolders:e.length>1?e.slice(0,-1):[]})})},10)),this.addStylesheet(wt),this.head.current=[h.div({class:"tweaker-buttons",onClick:t=>{t.stopPropagation()},children:[h.button({class:"tweaker-button",children:de,onClick:()=>{d.storeRegistry.resetState()}}),h.button({class:["tweaker-button"],children:[pe],onClick:()=>{navigator.clipboard.writeText(JSON.stringify(d.storeRegistry.getState()))}}),h.button({class:"tweaker-button",children:Ce,onClick:()=>{me.createJSONAndSave(d.storeRegistry.projectName,d.storeRegistry.getState())}}),h.label({class:"tweaker-button",children:[xe,h.input({type:"file",style:{display:"none"},onChange:t=>{const e=t.currentTarget;e.onchange=()=>{var n;const r=(n=e.files)==null?void 0:n[0];if(r){const a=new FileReader;a.onload=o=>{var k,A;const i=(A=(k=o.target)==null?void 0:k.result)==null?void 0:A.toString();i&&d.storeRegistry.loadState(i)},a.readAsText(r)}e.onchange=null},e.click()}})],onClick:()=>{}})]})],this.addEventListener("accordionItemToggle",t=>{t.detail.opened?this.style.opacity="1":this.style.opacity="0.1"})}connectedCallback(){super.connectedCallback(),d.activeStores.subscribe(ce(this,J))}disconnectedCallback(){super.disconnectedCallback(),d.activeStores.unsubscribe(ce(this,J))}};J=new WeakMap;oe=vt([p.define("e-tweaker")],oe);var mt=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,_t=(t,e,r,n)=>{for(var a=n>1?void 0:n?kt(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(a=(n?i(e,r,a):i(a))||a);return n&&a&&mt(e,r,a),a},bt=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},le=(t,e,r)=>(bt(t,e,"read from private field"),r?r.call(t):e.get(t)),St=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Y;const yt=m.createStylesheet({":host":{fontFamily:"sans-serif"}});exports.StudioElement=class extends p.CustomElement{constructor(){super(),St(this,Y,()=>{C.save()}),this.openShadow(yt),C.load(),h.element(this,{children:[new oe]})}connectedCallback(){window.addEventListener("beforeunload",le(this,Y))}disconnectedCallback(){window.removeEventListener("beforeunload",le(this,Y)),C.save()}};Y=new WeakMap;exports.StudioElement=_t([p.define("e-studio")],exports.StudioElement);we.isBrowser&&document.body.appendChild(new exports.StudioElement);
