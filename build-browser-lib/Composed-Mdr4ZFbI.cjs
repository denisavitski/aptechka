"use strict";var g=(r,s,e)=>{if(!s.has(r))throw TypeError("Cannot "+e)};var t=(r,s,e)=>(g(r,s,"read from private field"),e?e.call(r):s.get(r)),h=(r,s,e)=>{if(s.has(r))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(r):s.set(r,e)},a=(r,s,e,c)=>(g(r,s,"write to private field"),c?c.call(r,e):s.set(r,e),e);const x=require("./Store-D0_rDIsE.cjs"),v=require("./function-MthRj-GJ.cjs");var d;class C extends x.Store{constructor(e,c,u){super(null,u);h(this,d,void 0);a(this,d,e.subscribe(o=>{const l=[];o.current.forEach((m,f)=>{var S;o.current[f]===((S=o.previous)==null?void 0:S[f])&&this.current[f]?l.push(this.current[f]):l.push(c(m,f))}),this.current=l}))}close(){super.close(),t(this,d).call(this)}}d=new WeakMap;var b,n,i;class E extends x.Store{constructor(e,c,u){super(e,u);h(this,b,void 0);h(this,n,void 0);h(this,i,0);a(this,n,new x.Store(!1)),a(this,b,c),u!=null&&u.manualControl||this.refetch()}get isPending(){return t(this,n)}refetch(){t(this,n).current=!0,a(this,i,t(this,i)+1);const e=t(this,i);t(this,b).call(this).then(c=>{e===t(this,i)&&(t(this,n).current=!1,this.current=c)})}}b=new WeakMap,n=new WeakMap,i=new WeakMap;var p;class q extends x.Store{constructor(e,c,u){super(null,u);h(this,p,[]);const o=v.debounce(()=>{this.current=c()},0);e.forEach(l=>{t(this,p).push(l.subscribe(()=>{o()}))})}close(){super.close(),t(this,p).forEach(e=>e())}}p=new WeakMap;exports.Composed=q;exports.DerivedArray=C;exports.Resource=E;
