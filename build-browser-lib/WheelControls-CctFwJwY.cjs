"use strict";var b=(t,s,e)=>{if(!s.has(t))throw TypeError("Cannot "+e)};var r=(t,s,e)=>(b(t,s,"read from private field"),e?e.call(t):s.get(t)),l=(t,s,e)=>{if(s.has(t))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(t):s.set(t,e)},h=(t,s,e,a)=>(b(t,s,"write to private field"),a?a.call(t,e):s.set(t,e),e);const n=require("./browser-CpzFX2xg.cjs"),x=require("./dom-qY2LdCVL.cjs"),E=require("./notifier/index.cjs");var m;class g{constructor(){l(this,m,new E.Notifier)}get changeEvent(){return r(this,m)}}m=new WeakMap;var d,o;class y extends g{constructor(e){super();l(this,d,null);l(this,o,e=>{const a=e.shiftKey?-1:1;let i;e.code==="Space"?i=a*500:e.code==="ArrowLeft"?i=-1*100:e.code==="ArrowRight"?i=1*100:e.code==="ArrowUp"?i=-1*100:e.code==="ArrowDown"?i=1*100:e.code==="PageUp"?i=-1*1e3:e.code==="PageDown"?i=1*1e3:e.code==="Home"?i="min":e.code==="End"&&(i="max"),i&&(e.stopPropagation(),this.changeEvent.notify(i))});n.isBrowser&&h(this,d,e!=null&&e.element&&x.getElement(e.element)||window)}connect(){n.isBrowser&&r(this,d).addEventListener("keydown",r(this,o))}disconnect(){n.isBrowser&&r(this,d).removeEventListener("keydown",r(this,o))}}d=new WeakMap,o=new WeakMap;var c,f,w,u;class M extends g{constructor(e){super();l(this,c,null);l(this,f,void 0);l(this,w,void 0);l(this,u,e=>{let a=0;if(!(this.axis==="x"&&Math.abs(e.deltaY)>Math.abs(e.deltaX)||this.axis==="y"&&Math.abs(e.deltaX)>Math.abs(e.deltaY)))if(a=(this.axis==="max"?Math.abs(e.deltaX)>Math.abs(e.deltaY)?e.deltaX:e.deltaY:this.axis==="x"?e.deltaX:e.deltaY)*this.speed,e.stopPropagation(),e.preventDefault(),this.debounce){const i=Date.now();if(i-r(this,w)>40&&(a=100*Math.sign(a)),h(this,w,i),Math.abs(a)<100||r(this,f))return;this.changeEvent.notify(a),h(this,f,setTimeout(()=>{h(this,f,void 0)},80))}else this.changeEvent.notify(a)});this.axis=(e==null?void 0:e.axis)||"y",this.speed=(e==null?void 0:e.speed)||1,this.debounce=(e==null?void 0:e.debounce)||!1,h(this,w,Date.now()),n.isBrowser&&h(this,c,e!=null&&e.element&&x.getElement(e.element)||window)}connect(){n.isBrowser&&r(this,c).addEventListener("wheel",r(this,u),{passive:!1})}disconnect(){n.isBrowser&&r(this,c).removeEventListener("wheel",r(this,u))}}c=new WeakMap,f=new WeakMap,w=new WeakMap,u=new WeakMap;exports.Controls=g;exports.KeyboardControls=y;exports.WheelControls=M;
