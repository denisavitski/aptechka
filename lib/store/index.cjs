"use strict";var x=(r,s,e)=>{if(!s.has(r))throw TypeError("Cannot "+e)};var c=(r,s,e)=>(x(r,s,"read from private field"),e?e.call(r):s.get(r)),o=(r,s,e)=>{if(s.has(r))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(r):s.set(r,e)},l=(r,s,e,t)=>(x(r,s,"write to private field"),t?t.call(r,e):s.set(r,e),e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("../Store-txkR3wXU.cjs"),m=require("../function-QP7IreXR.cjs");require("../browser-QbF6EW-w.cjs");var b;class D extends i.Store{constructor(e,t,u){super(null,u);o(this,b,void 0);l(this,b,e.subscribe(n=>{this.current=t(n.current)}))}close(){super.close(),c(this,b).call(this)}}b=new WeakMap;var f;class R extends i.Store{constructor(e,t,u){super(null,u);o(this,f,void 0);l(this,f,e.subscribe(n=>{const d=[];n.current.forEach((y,v)=>{var g;n.current[v]===((g=n.previous)==null?void 0:g[v])&&this.current[v]?d.push(this.current[v]):d.push(t(y))}),this.current=d}))}close(){super.close(),c(this,f).call(this)}}f=new WeakMap;var S,h,a;class q extends i.Store{constructor(e,t,u){super(e,u);o(this,S,void 0);o(this,h,void 0);o(this,a,0);l(this,h,new i.Store(!1)),l(this,S,t),u!=null&&u.manualControl||this.refetch()}get isPending(){return c(this,h)}refetch(){c(this,h).current=!0,l(this,a,c(this,a)+1);const e=c(this,a);c(this,S).call(this).then(t=>{e===c(this,a)&&(c(this,h).current=!1,this.current=t)})}}S=new WeakMap,h=new WeakMap,a=new WeakMap;var p;class C extends i.Store{constructor(e,t,u){super(null,u);o(this,p,[]);const n=m.debounce(()=>{this.current=t()},0);e.forEach(d=>{c(this,p).push(d.subscribe(()=>{n()}))})}close(){super.close(),c(this,p).forEach(e=>e())}}p=new WeakMap;exports.Store=i.Store;exports.activeStores=i.activeStores;exports.storeRegistry=i.storeRegistry;exports.Composed=C;exports.Derived=D;exports.DerivedArray=R;exports.Resource=q;
