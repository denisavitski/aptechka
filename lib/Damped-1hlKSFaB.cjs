"use strict";var z=Object.defineProperty,B=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var k=(s,e,t)=>e in s?z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,v=(s,e)=>{for(var t in e||(e={}))G.call(e,t)&&k(s,t,e[t]);if(M)for(var t of M(e))H.call(e,t)&&k(s,t,e[t]);return s},D=(s,e)=>B(s,C(e));var R=(s,e,t)=>(k(s,typeof e!="symbol"?e+"":e,t),t),I=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var i=(s,e,t)=>(I(s,e,"read from private field"),t?t.call(s):e.get(s)),a=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},h=(s,e,t,r)=>(I(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);var b=(s,e,t)=>(I(s,e,"access private method"),t);const _=require("./math-FNUBmQPK.cjs"),L=require("./number-2bR0KBcX.cjs"),w=require("./Store-WXFmsaEI.cjs"),E=require("./ticker/index.cjs");var g,S,y,n,l,x,m,f,q,c,F,P,d,A;class j extends w.Store{constructor(t){super(0,t);a(this,d);a(this,g,void 0);a(this,S,void 0);a(this,y,void 0);a(this,n,void 0);a(this,l,void 0);a(this,x,void 0);a(this,m,void 0);a(this,f,new w.Store(!1));a(this,q,0);a(this,c,0);a(this,F,t=>{this.set(t.current)});a(this,P,t=>{const r=this.current;this.handleAnimationFrame(t);const u=Math.abs(r-this.target);h(this,c,u/t.elapsed)});h(this,S,t==null?void 0:t.order),h(this,g,t==null?void 0:t.maxFPS),h(this,y,t==null?void 0:t.culling),h(this,l,b(this,d,A).call(this,t==null?void 0:t.min)),h(this,x,b(this,d,A).call(this,t==null?void 0:t.max)),h(this,n,this.current=0)}get target(){return i(this,n)}get isRunning(){return i(this,f)}get direction(){return i(this,q)}get maxFPS(){return i(this,g)}get speed(){return i(this,c)}get min(){return i(this,l).call(this)}set min(t){h(this,l,b(this,d,A).call(this,t)),this.set(i(this,n)),this.current=i(this,n)}get max(){return i(this,x).call(this)}set max(t){h(this,x,b(this,d,A).call(this,t)),this.set(i(this,n)),this.current=i(this,n)}get delta(){return this.max-this.min}get progress(){return this.delta?L.fix((this.current-this.min)/this.delta,6):0}get setter(){return i(this,m)}get entry(){return D(v({},super.entry),{min:this.min,max:this.max,delta:this.delta,direction:this.direction,progress:this.progress,speed:this.speed})}set setter(t){var r,u;(r=i(this,m))==null||r.unsubscribe(i(this,F)),h(this,m,t),(u=i(this,m))==null||u.subscribe(i(this,F))}set(t,r=!1){const u=i(this,n);h(this,n,_.clamp(t,this.min,this.max)),r&&(this.current=i(this,n)),i(this,n)!==u&&(h(this,c,0),h(this,q,Math.sign(t-i(this,n))||1),this.update())}shift(t,r=!1){this.set(i(this,n)+t,r)}close(){var t;super.close(),this.unlistenAnimationFrame(),(t=i(this,m))==null||t.unsubscribe(i(this,F)),h(this,m,void 0)}reset(){this.set(this.initial,!0),super.reset(),this.unlistenAnimationFrame()}listenAnimationFrame(){i(this,f).current=!0,E.ticker.subscribe(i(this,P),{maxFPS:i(this,g),order:i(this,S),culling:i(this,y)})}unlistenAnimationFrame(){h(this,c,0),i(this,f).current=!1,E.ticker.unsubscribe(i(this,P))}}g=new WeakMap,S=new WeakMap,y=new WeakMap,n=new WeakMap,l=new WeakMap,x=new WeakMap,m=new WeakMap,f=new WeakMap,q=new WeakMap,c=new WeakMap,F=new WeakMap,P=new WeakMap,d=new WeakSet,A=function(t){const r=t||0;return typeof r=="function"?r:()=>r};class J extends j{constructor(t){var r,u;super(D(v({},t),{min:(r=t==null?void 0:t.min)!=null?r:-1/0,max:(u=t==null?void 0:t.max)!=null?u:1/0}));R(this,"damping");this.damping=(t==null?void 0:t.damping)||0}update(){this.damping?this.listenAnimationFrame():(this.current=this.target,this.unlistenAnimationFrame())}handleAnimationFrame(t){L.fix(this.current,4)===L.fix(this.target,4)&&(this.unlistenAnimationFrame(),this.current=this.target),this.current=_.damp(this.current,this.target,this.damping,t.elapsed)}}exports.Animated=j;exports.Damped=J;
