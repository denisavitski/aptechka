"use strict";var v=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var s=(e,r,t)=>(v(e,r,"read from private field"),t?t.call(e):r.get(e)),b=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},a=(e,r,t,c)=>(v(e,r,"write to private field"),c?c.call(e,t):r.set(e,t),t);var d=(e,r,t)=>(v(e,r,"access private method"),t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const w=require("../Store-txkR3wXU.cjs"),A=require("../attributes-_2U65GDl.cjs"),f=require("../browser-QbF6EW-w.cjs"),S=require("../dom-QhWsdQS2.cjs");var i,u,o,h,m;class q extends w.Store{constructor(t,c,g,p){super(g,p);b(this,h);b(this,i,null);b(this,u,void 0);b(this,o,null);a(this,u,c),this.subscribe(l=>{var n;(n=s(this,i))==null||n.setAttribute(s(this,u),l.current.toString())}),f.isBrowser&&(a(this,i,S.getElement(t)),a(this,o,new MutationObserver(l=>{l.forEach(n=>{n.type==="attributes"&&n.attributeName===s(this,u)&&d(this,h,m).call(this)})})))}unobserve(){f.isBrowser&&s(this,o).disconnect()}observe(){f.isBrowser&&s(this,i)&&(s(this,o).observe(s(this,i),{attributes:!0}),d(this,h,m).call(this))}}i=new WeakMap,u=new WeakMap,o=new WeakMap,h=new WeakSet,m=function(){const t=s(this,i).getAttribute(s(this,u));t!=null&&(this.current=A.parseAttributeValue(t))};exports.Attribute=q;
