"use strict";var B=Object.defineProperty;var C=(t,s,e)=>s in t?B(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var m=(t,s,e)=>(C(t,typeof s!="symbol"?s+"":s,e),e),x=(t,s,e)=>{if(!s.has(t))throw TypeError("Cannot "+e)};var i=(t,s,e)=>(x(t,s,"read from private field"),e?e.call(t):s.get(t)),r=(t,s,e)=>{if(s.has(t))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(t):s.set(t,e)},h=(t,s,e,n)=>(x(t,s,"write to private field"),n?n.call(t,e):s.set(t,e),e);const a=require("./browser-QbF6EW-w.cjs"),L=require("./dom-QhWsdQS2.cjs"),D=require("./notifier/index.cjs");var y;class v{constructor(){r(this,y,new D.Notifier)}get changeEvent(){return i(this,y)}}y=new WeakMap;var u,c;class I{constructor(){r(this,u,void 0);r(this,c,!0)}get isIdle(){return i(this,c)}registerInteraction(){clearTimeout(i(this,u)),h(this,c,!1),h(this,u,setTimeout(()=>{h(this,c,!0)},2e3))}}u=new WeakMap,c=new WeakMap;const b=new I;var l,g;class M extends v{constructor(e){super();r(this,l,null);r(this,g,e=>{const n=e.shiftKey?-1:1;let w=!0;e.code==="Space"?this.changeEvent.notify(n*500):e.code==="ArrowLeft"?this.changeEvent.notify(-1*100):e.code==="ArrowRight"?this.changeEvent.notify(1*100):e.code==="ArrowUp"?this.changeEvent.notify(-1*100):e.code==="ArrowDown"?this.changeEvent.notify(1*100):e.code==="PageUp"?this.changeEvent.notify(-1*1e3):e.code==="PageDown"?this.changeEvent.notify(1*1e3):e.code==="Home"?this.changeEvent.notify("min"):e.code==="End"?this.changeEvent.notify("max"):w=!1,w&&b.registerInteraction()});a.isBrowser&&h(this,l,e!=null&&e.element&&L.getElement(e.element)||window)}connect(){a.isBrowser&&i(this,l).addEventListener("keydown",i(this,g))}disconnect(){a.isBrowser&&i(this,l).removeEventListener("keydown",i(this,g))}}l=new WeakMap,g=new WeakMap;var d,o,f,E;class A extends v{constructor(e){super();m(this,"axis");m(this,"speed");m(this,"debounce");r(this,d,null);r(this,o,void 0);r(this,f,void 0);r(this,E,e=>{let n=0;if(!(this.axis==="x"&&Math.abs(e.deltaY)>Math.abs(e.deltaX)||this.axis==="y"&&Math.abs(e.deltaX)>Math.abs(e.deltaY)))if(n=(this.axis==="x"?e.deltaX:e.deltaY)*this.speed,b.registerInteraction(),e.stopPropagation(),e.preventDefault(),this.debounce){const w=Date.now();if(w-i(this,f)>40&&(n=100*Math.sign(n)),h(this,f,w),Math.abs(n)<100||i(this,o))return;this.changeEvent.notify(n),h(this,o,setTimeout(()=>{h(this,o,void 0)},80))}else this.changeEvent.notify(n)});this.axis=(e==null?void 0:e.axis)||"y",this.speed=(e==null?void 0:e.speed)||1,this.debounce=(e==null?void 0:e.debounce)||!1,h(this,f,Date.now()),a.isBrowser&&h(this,d,e!=null&&e.element&&L.getElement(e.element)||window)}connect(){a.isBrowser&&i(this,d).addEventListener("wheel",i(this,E),{passive:!1})}disconnect(){a.isBrowser&&i(this,d).removeEventListener("wheel",i(this,E))}}d=new WeakMap,o=new WeakMap,f=new WeakMap,E=new WeakMap;exports.Controls=v;exports.KeyboardControls=M;exports.WheelControls=A;exports.user=b;
